<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{url_for('static',filename='css/editormd/editormd.css')}}" />
    <script type="text/javascript" src="{{url_for('static',filename='js/jquery.min.js')}}"></script>
    <script src="{{url_for('static',filename='js/editormd.min.js')}}"></script>
    <title>editor</title>
    {% endblock %}
</head>
<body>
<div style="padding: 10px">
    <p style="text-align: center">editor</p>
</div>
<div id="layout" class="editor">
    <div id="test-editormd">
        <textarea></textarea>
    </div>
    <div id="editor-control">
        <button id="show">show</button>
        <button id="get-md-btn">Get Markdown</button>
        <button id="submit">submit</button>
    </div>
</div>
</body>
<script>
    var testEditor;
    testEditor = editormd("test-editormd", {
        placeholder:'本编辑器支持Markdown编辑，左边编写，右边预览',  //默认显示的文字，这里就不解释了
        width: "100%",
        height: 640,
        syncScrolling: "single",
        path: "lib/js/editor.md-master/lib/",   //你的path路径（原资源文件中lib包在我们项目中所放的位置）
        theme: "default",//工具栏主题
        previewTheme: "default",//预览主题
        editorTheme: "default",//编辑主题
        saveHTMLToTextarea: true,
        emoji: false,
        taskList: true,
        tocm: true,         // Using [TOCM]
        tex: true,                   // 开启科学公式TeX语言支持，默认关闭
        flowChart: true,             // 开启流程图支持，默认关闭
        sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,
        toolbarIcons : function() {  //自定义工具栏，后面有详细介绍
            return editormd.toolbarModes['full']; // full, simple, mini
        },
    });
    $("#show").bind('click',function () {
        console.log(testEditor.getMarkdown())
    });
    $("#submit").bind('click',function () {
        var data = {"text":testEditor.getMarkdown()}
        $.ajax({
            url:'localhost:8080/resources',
            type:'POST',
            data:JSON.stringify(data),
            success:function (data) {
                alert(data)
            }
        })
    })
    // document.getElementById("show").onclick = function show() {
    //     console.log(testEditor.getMarkdown())
    // }
</script>
</html>